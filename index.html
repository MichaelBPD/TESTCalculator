<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gutter Quote Calculator</title>

  <style>
    :root{
      --brand:#ec008c;
      --bg:#ffe100;
      --card:#fff;
      --text:#222;
      --muted:#666;
      --blue:#007bff;
      --red:#dc2626;
    }
    *{box-sizing:border-box}
    body{font-family:Arial,Helvetica,sans-serif;margin:0;background:var(--bg);color:var(--text)}

    header{padding:22px 16px;text-align:center}
    h1{margin:0 0 6px;color:var(--brand)}
    p{margin:0;color:var(--muted)}

    .wrap{max-width:980px;margin:16px auto;padding:16px}
    .grid{display:grid;grid-template-columns:1fr;gap:16px}
    @media(min-width:900px){.grid{grid-template-columns:1.1fr .9fr}}

    .card{background:#fff;border-radius:18px;box-shadow:0 2px 10px rgba(0,0,0,.12);padding:16px}
    fieldset{border:1px solid #eee;border-radius:12px;padding:12px;margin-bottom:12px}
    legend{padding:0 8px;color:#555}

    label{display:block;font-weight:700;margin:10px 0 6px}
    input[type="number"], input[type="password"], select{
      width:100%;padding:10px;border:1px solid #ccc;border-radius:10px;font-size:15px
    }

    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .inline{display:flex;align-items:center;gap:10px;margin-top:8px}
    .muted{font-size:12px;color:#666}

    .summary h2{margin:0;color:var(--brand);text-align:center}
    .pill{display:inline-block;background:#f4f4f4;border-radius:999px;padding:7px 12px;margin:6px}

    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:8px;border-bottom:1px solid #eee}
    .right{text-align:right}

    /* ===== LOCK SCREEN ===== */
    .lock-wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .lock-card{
      width:min(420px,100%);
      background:#fff;
      border-radius:24px;
      box-shadow:0 4px 14px rgba(0,0,0,.18);
      padding:20px;
      text-align:center;
    }
    .lock-logo{max-height:60px;margin-bottom:10px}
    .btn{
      width:100%;
      border:0;
      border-radius:12px;
      padding:12px;
      background:var(--blue);
      color:#fff;
      font-size:16px;
      font-weight:700;
      cursor:pointer;
      margin-top:10px;
    }
    .btn:hover{background:#0056b3}
    .err{color:var(--red);font-weight:700;margin-top:10px;display:none}
  </style>
</head>

<body>

<!-- ================= LOCK SCREEN ================= -->
<div id="lockScreen" class="lock-wrap">
  <div class="lock-card">
    <img src="Logo.png" alt="Logo" class="lock-logo" />
    <h2 style="color:var(--brand);margin:0">Restricted Access</h2>
    <p class="muted" style="margin:6px 0 14px">Enter passcode to access calculator</p>

    <input id="passcode" type="password" placeholder="Passcode" />
    <button id="unlockBtn" class="btn">Unlock</button>

    <div id="lockError" class="err">Incorrect passcode</div>
  </div>
</div>

<!-- ================= CALCULATOR APP ================= -->
<div id="app" style="display:none;">

<header>
  <h1>Quote Calculator</h1>
  <p>All prices include labour, materials and markups unless specified otherwise</p>
</header>

<div class="wrap">
  <div class="grid">

    <div class="card">
      <fieldset>
        <legend>Job basics</legend>
        <div class="row">
          <div>
            <label for="storeys">Storey</label>
            <select id="storeys">
              <option value="single">Single</option>
              <option value="double">Double</option>
            </select>
          </div>
          <div>
            <label for="twoDay">Job length</label>
            <select id="twoDay">
              <option value="no">Standard</option>
              <option value="yes">2 Day likely job</option>
            </select>
          </div>
        </div>

        <label>Difficult access allowance ($)</label>
        <input id="accessAllowance" type="number" value="0" min="0" />
      </fieldset>

      <fieldset>
        <legend>Gutters</legend>
        <label>Gutter length (m)</label>
        <input id="lengthM" type="number" value="0" min="0" step="1" />

        <div class="row">
          <div>
            <label>Corners</label>
            <input id="corners" type="number" value="0" min="0" />
          </div>
          <div>
            <label>Rakes</label>
            <input id="rakes" type="number" value="0" min="0" />
          </div>
        </div>

        <label>Gutter guard length (m)</label>
        <input id="guardsLengthM" type="number" value="0" min="0" step="10" />
        <div class="muted">Charged per 10 metres</div>
      </fieldset>

      <fieldset>
        <legend>Options</legend>
        <div class="inline">
          <input type="checkbox" id="tileRoof" />
          <label>Tile roof (x1.25 gutters, corners, rakes & guards)</label>
        </div>
        <div class="inline">
          <input type="checkbox" id="excludeGST" />
          <label>Exclude GST (ex GST)</label>
        </div>
      </fieldset>
    </div>

    <div class="card summary">
      <h2>Estimate</h2>
      <div id="topPills"></div>
      <table id="breakdown"></table>
    </div>

  </div>
</div>
</div>

<script>
/* ========= PASSCODE ========= */
const CORRECT_PASSCODE = "8008";

document.getElementById("unlockBtn").addEventListener("click", unlock);
document.getElementById("passcode").addEventListener("keydown", e => {
  if(e.key === "Enter") unlock();
});

function unlock(){
  const entered = document.getElementById("passcode").value;
  if(entered === CORRECT_PASSCODE){
    document.getElementById("lockScreen").style.display = "none";
    document.getElementById("app").style.display = "block";
    initCalculator();
  } else {
    document.getElementById("lockError").style.display = "block";
  }
}

/* ========= CALCULATOR ========= */
function money(n){
  return Number(n||0).toLocaleString("en-AU",{style:"currency",currency:"AUD"});
}
function round10(n){ return Math.round(n/10)*10; }

const PRICING = {
  gutters:{single:300,double:350},
  corner:250,
  rake:350,
  guard:{single:1250,double:1500},
  tile:1.25,
  day2:500,
  gst:1.1
};

function initCalculator(){
  document.querySelectorAll("#app input, #app select").forEach(el=>{
    el.addEventListener("input", calc);
  });
  calc();
}

function calc(){
  const s = storeys.value;
  const tile = tileRoof.checked ? PRICING.tile : 1;
  const gst = excludeGST.checked ? 1/PRICING.gst : 1;

  guardsLengthM.value = round10(+guardsLengthM.value||0);

  const lines = [];
  const add=(l,c)=>{ if(c>0) lines.push({l,c:c*gst}); };

  add("Gutters", lengthM.value*PRICING.gutters[s]*tile);
  add("Corners", corners.value*PRICING.corner*tile);
  add("Rakes", rakes.value*PRICING.rake*tile);
  add("Gutter guard", (guardsLengthM.value/10)*PRICING.guard[s]*tile);
  add("Access allowance", accessAllowance.value);
  if(twoDay.value==="yes") add("2nd day setup", PRICING.day2);

  const total = lines.reduce((a,b)=>a+b.c,0);

  topPills.innerHTML = `<div class="pill">Total: <strong>${money(total)}</strong></div>`;
  breakdown.innerHTML = `
    <tr><th>Item</th><th class="right">Price</th></tr>
    ${lines.map(x=>`<tr><td>${x.l}</td><td class="right">${money(x.c)}</td></tr>`).join("")}
    <tr><td><strong>Total</strong></td><td class="right"><strong>${money(total)}</strong></td></tr>`;
}
</script>

</body>
</html>
